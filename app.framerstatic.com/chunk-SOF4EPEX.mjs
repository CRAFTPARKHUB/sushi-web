import{a as $e}from"https://app.framerstatic.com/chunk-IHOAENGB.mjs";import{x as me}from"https://app.framerstatic.com/chunk-IZDFJLUX.mjs";import{a as U}from"https://app.framerstatic.com/chunk-V67MTYNI.mjs";import{a as Ae}from"https://app.framerstatic.com/chunk-7GSEC7H4.mjs";import{jd as ke,kd as oe,ld as Oe}from"https://app.framerstatic.com/chunk-6YTQAM34.mjs";import{$f as re,Be as We,Ce as Se,Ke as Be,Le,Me as Ne,Se as Fe,Te as He,Ue as Ve,Zf as ne,_f as Ke,f as Ce,xe as Me,ye as De}from"https://app.framerstatic.com/chunk-AAFAMNTF.mjs";import{a as k}from"https://app.framerstatic.com/chunk-QFU6OGL3.mjs";import{Yb as te}from"https://app.framerstatic.com/chunk-HMWS5X5Y.mjs";import{Q as pe,ua as ye}from"https://app.framerstatic.com/chunk-ZK325ET3.mjs";import{i as Ee}from"https://app.framerstatic.com/chunk-XWEO5KIO.mjs";import{b as H,d as b,e as Re,i as Te,k as ee}from"https://app.framerstatic.com/chunk-ZQUNXESX.mjs";import{Xd as Ie,a as D,b as R,i as fe}from"https://app.framerstatic.com/chunk-M7LXWNTO.mjs";import{f as be}from"https://app.framerstatic.com/chunk-PFHOMMMY.mjs";import{e as m,j as i,k as x,l as le,m as Q}from"https://app.framerstatic.com/chunk-AHQIRSXG.mjs";var Y=m(D());var ie=m(D());function wt(o){try{return H(o)?JSON.parse(o):null}catch{return null}}function ge(o,t){let e=localStorage.getItem(o),n=wt(e);return t(n)?n:null}function Zt(o,t){let[e]=(0,ie.useState)(()=>ge(o,t)),n=(0,ie.useCallback)(r=>{let a=JSON.stringify(r);localStorage.setItem(o,a)},[o]);return[e,n]}var N=m(D());var ze="windowBarCursor_wuk326o",_e="noPointerEvents_n283lgw",je="pointerEvents_pue1ity";var O=m(R()),Ue=.1,L=Ee.panelPadding,ve=9999999999999;function yt(o,t){let r=t.width-o.width,a=t.height-o.height;return{minX:0,minY:0,maxX:r,maxY:a}}function Xe(o){let t=o.trim(),e=parseInt(t);return b(e)?t.endsWith("%")?{value:e,unit:"%"}:t.endsWith("px")?{value:e,unit:"px"}:null:null}var X=class extends N.default.Component{constructor(){super(...arguments);i(this,"containerRef",N.default.createRef());i(this,"contentWrapperRef",N.default.createRef());i(this,"setContainerRefs",e=>{this.containerRef.current=e;let{containerRef:n}=this.props;n&&(n.current=e)});i(this,"setContentWrapperRefs",e=>{this.contentWrapperRef.current=e;let{contentWrapperRef:n}=this.props;n&&(n.current=e)});i(this,"hasMoved",!1);i(this,"dragStartRect",null);i(this,"getConstraintsRect",()=>{let e=this.containerRef.current;return e?e.getBoundingClientRect():null});i(this,"getWindowRect",()=>{let e=this.getConstraintsRect();if(!e)return null;let n=this.contentWrapperRef.current;if(!n)return null;let r=n.getBoundingClientRect();return{x:r.left-e.x,y:r.top-e.y,width:r.width,height:r.height}});i(this,"onDragStart",e=>{this.dragStartRect=this.getWindowRect(),this.hasMoved=!1});i(this,"onDrag",e=>{if(!this.dragStartRect)return;let n=this.getWindowRect();if(!n)return;let{width:r,height:a}=n;!this.hasMoved&&e.offset.x===0&&e.offset.y===0||(this.hasMoved=!0,this.setRect({...pe.add(e.offset,this.dragStartRect),width:r,height:a},{rubberBandingEnabled:!0,snapToEdges:!0,fixedTop:!1}))});i(this,"onDragEnd",e=>{this.dragStartRect&&(this.dragStartRect=null,this.hasMoved&&(this.setFloatingWindowProperties({x:0,y:0,transition:"transform 0.2s cubic-bezier(0.2, 0, 0, 1)"}),this.props.onDragEnd?.()))});i(this,"persistCurrentTopOffset",()=>{let e=this.getWindowRect();e&&this.setFloatingWindowProperties({fixedTop:e.y,top:1,bottom:0})});i(this,"hasPersistedTopOffset",()=>{let e=this.containerRef.current?.style.getPropertyValue("--floating-window-fixed-top"),n=parseInt(e||"");return b(n)&&n!==ve})}componentDidMount(){let{restorationKey:e}=this.props;if(!e)return;let n=ge(e,Ye);n&&this.setFloatingWindowProperties(n)}render(){let{initialTopOffset:e,initialLeftOffset:n,visible:r,className:a,zIndex:s,constraintBy:c}=this.props,u=ve,p=0,g=1,d=0,f=1;if(H(e)){let l=Xe(e);l&&(l.unit==="%"?(p=fe(0,100,l.value),g=100-l.value):l.unit==="px"?(u=l.value,p=1,g=0):(l.unit,void 0))}if(H(n)){let l=Xe(n);l?.unit==="%"&&(d=fe(0,100,l.value),f=100-l.value)}let w=`calc(${u}px - var(--framerInternalUI-chromeMarginTop) - ${L}px)`;return(0,O.jsxs)("div",{ref:this.setContainerRefs,className:k(_e,a),style:{position:"absolute",top:`calc(var(--framerInternalUI-chromeMarginTop) + ${L}px)`,left:c==="app"?`${L}px`:`calc(var(--framerInternalUI-chromeMarginLeft) + ${L}px)`,right:c==="app"?`${L}px`:`calc(var(--framerInternalUI-chromeMarginRight) + ${L}px)`,bottom:`calc(var(--framerInternalUI-chromeMarginBottom) + ${L}px)`,display:"flex",visibility:r?"visible":"hidden",flexDirection:"row",zIndex:s},children:[(0,O.jsx)("div",{style:{width:0,flexGrow:`var(--floating-window-left, ${d})`}}),(0,O.jsxs)("div",{style:{width:"auto",display:"flex",flexDirection:"column"},children:[(0,O.jsx)("div",{style:{height:0,flexGrow:`var(--floating-window-top, ${p})`,maxHeight:`var(--floating-window-fixed-top, ${w})`}}),(0,O.jsx)("div",{ref:this.setContentWrapperRefs,onPointerDownCapture:this.props.onPointerDownCapture,draggable:!1,className:k(je,me),style:{position:"relative",height:"auto",width:"auto",maxHeight:"100%",flexShrink:0,transform:"translate(var(--floating-window-x, 0px), var(--floating-window-y, 0px))",transition:"var(--floating-window-transform)"},children:(0,O.jsx)(Ge.Provider,{value:this,children:this.props.children})}),(0,O.jsx)("div",{style:{height:0,flexGrow:`var(--floating-window-bottom, ${g})`}})]}),(0,O.jsx)("div",{style:{width:0,flexGrow:`var(--floating-window-right, ${f})`}})]})}setPosition(e,{snapToEdges:n}){let r=this.getConstraintsRect(),a=this.getWindowRect();if(!a||!r)return;let s=pe.subtract(e,r);this.setRect({...s,width:a.width,height:a.height},{rubberBandingEnabled:!1,fixedTop:!0,snapToEdges:n})}setRect(e,{rubberBandingEnabled:n,snapToEdges:r,fixedTop:a}){let s=this.getConstraintsRect();if(!s)return;let{minX:c,minY:u,maxX:p,maxY:g}=yt(e,s),d=e.x,f=e.y;if(r){let M=Math.abs(d-c),h=Math.abs(d-p),K=Math.abs(f-u),A=Math.abs(f-g);M<16?d=c:h<16&&(d=p),K<16?f=u:A<16&&(f=g)}let w=0,l=0;d<=c?(d=0,w=e.x-c):d>=p&&(w=e.x-p),f<u?(f=u,l=e.y-u):f>=g&&(l=e.y-g);let v=0,I=0;n&&(v=w*Ue,I=l*Ue);let y=Dt({...e,x:d,y:f},s);this.setFloatingWindowProperties({top:a?1:y.top,bottom:a?0:y.bottom,fixedTop:a?y.top:void 0,right:y.right,left:y.left,x:v,y:I,transition:""})}setResizeRect({top:e,right:n,bottom:r,left:a}){this.setFloatingWindowProperties({top:e,right:n,bottom:r,left:a,fixedTop:void 0,x:0,y:0,transition:""})}setFloatingWindowProperties(e){let n=this.containerRef.current;if(!n)return;let r={};b(e.top)&&(r["--floating-window-top"]=e.top.toString()),b(e.right)&&(r["--floating-window-right"]=e.right.toString()),b(e.bottom)&&(r["--floating-window-bottom"]=e.bottom.toString()),b(e.left)&&(r["--floating-window-left"]=e.left.toString()),b(e.fixedTop)?r["--floating-window-fixed-top"]=`${e.fixedTop}px`:r["--floating-window-fixed-top"]=`${ve}px`,b(e.x)&&(r["--floating-window-x"]=`${e.x}px`),b(e.y)&&(r["--floating-window-y"]=`${e.y}px`),H(e.transition)&&(r["--floating-window-transform"]=e.transition);let a=Object.keys(r);for(let c of a){let u=r[c];n.style.setProperty(c,u)}let{restorationKey:s}=this.props;if(s&&Ye(e,{strict:!1})){let c={top:e.top,bottom:e.bottom,left:e.left,right:e.right,fixedTop:e.fixedTop},u=JSON.stringify(c);localStorage.setItem(s,u)}}};i(X,"defaultProps",{visible:!0,constraintBy:"canvas"});var Rt="top",Tt="right",It="bottom",kt="left",Ot="fixedTop",Et="x",Ct="y",Mt="transition";function Ye(o,{strict:t}={strict:!0}){if(!Re(o)||t&&(Et in o||Ct in o||Mt in o)||!b(o[Rt])||!b(o[Tt])||!b(o[It])||!b(o[kt]))return!1;let e=o[Ot];return b(e)||Te(e)}var Ge=N.default.createContext(null),Ze=N.default.forwardRef(function(t,e){let n=N.default.useContext(Ge);return(0,O.jsx)(ne,{ref:e,...t,className:k(t.className,ze,me),onDragStart:n?.onDragStart,onDrag:n?.onDrag||Ae,onDragEnd:n?.onDragEnd,cursor:"-webkit-grabbing"})});function Dt(o,t){let e=o.y,n=e+o.height,r=o.x,a=r+o.width,s=e,c=r,u=t.height-n,p=t.width-a;return{top:s,bottom:u,left:c,right:p}}var C=m(D());var P=m(D()),Qe=m(R()),he=(0,P.createContext)(()=>()=>{});function go(o,t){let e=(0,P.useContext)(he),[n,r]=(0,P.useState)(!1);return(0,P.useLayoutEffect)(()=>e(a=>{r(()=>o?o.some(s=>a.variantOverrideKeys.has(s)):t?t.some(s=>a.variantOverrideTraitTypes.has(s)):!1)}),[o,t,e]),n}function qe(){let o=(0,P.useContext)(he),[t,e]=(0,P.useState)({variantOverrideKeys:new Set,variantOverrideTraitTypes:new Set});return(0,P.useLayoutEffect)(()=>o(n=>{e(n)}),[o,e]),t}function Je({children:o,variantOverrideTraitTypes:t,variantOverrideKeys:e}){let n=(0,P.useRef)(),r=(0,P.useMemo)(()=>{let a=new Set;return{listeners:a,addListener:s=>{a.add(s);let c=n.current;return c&&s(c),()=>{a.delete(s)}}}},[]);return(0,P.useLayoutEffect)(()=>{let a={variantOverrideTraitTypes:t,variantOverrideKeys:e};n.current=a,r.listeners.forEach(s=>s(a))},[r,e,t]),(0,Qe.jsx)(he.Provider,{value:r.addListener,children:o})}var et="popoutButton_pvjhuxd",tt="popoutButtonDisabled_pcpv5lz",ot="popoutButtonLarge_p1awmd8";var nt=m(D()),se=(0,nt.createContext)(null);var F=m(D());function xe(o){switch(o){case"DeprecatedDrafts":case"ImageCrop":case"ImageFocalPoint":case"QuickActions":case"UpsellEnterprise":return!0;default:return!1}}function Ro(o){return xe(o)?25:22}var it=m(R());function rt({children:o}){let t=Be(),e=Lt();return(0,it.jsx)(Le,{mode:e?"darkOnDarkModal":t,children:o})}function St(){let t=oe().stores.chromeStore.useState(e=>e.mainView);return $e(t)}function Bt(){return!1}var Lt=te?Bt:St;var E,T,V=class{constructor({triggerRender:t,willOpen:e,willPush:n,willPop:r}){le(this,E,[]);le(this,T,-1);i(this,"triggerRender");i(this,"willOpen");i(this,"willPush");i(this,"willPop");i(this,"present",(t,e,{parent:n,triggerRef:r,displayDivider:a,title:s,className:c,onDismiss:u,onPresent:p,educationTooltipId:g,educationText:d,onClickEducation:f,enterAnimationDisabled:w,toolbarAction:l,autoFocusInside:v})=>{if(t&&this.isPresenting(t,{atIndex:0})){x(this,T)===0?this.close():(this.setStackIndex(0),this.willOpen?.(r?.current));return}if(n){let I=this.indexForItem(n);if(I===-1)return null;Q(this,E,x(this,E).slice(0,I+1)),p?.(),this.willPush?.()}else this.setStackIndex(-1),p?.(),this.willOpen?.(r?.current);x(this,E).push({id:t,timestamp:Date.now(),element:e,triggerRef:r,displayDivider:a,title:s,className:c,onDismiss:u,onPresent:p,dismissed:!1,educationTooltipId:g,educationText:d,onClickEducation:f,enterAnimationDisabled:w,toolbarAction:l,autoFocusInside:v}),this.setStackIndex(x(this,T)+1)});i(this,"updatePopout",(t,e,n,r)=>{if(this.isClosed())return;let a=this.indexForItem(t);if(a===-1)return;let s=x(this,E)[a];if(!s)return;let c=s.element,u=s.title,p=s.autoFocusInside;c===e&&u===n&&p===r||(s.element=e,s.title=n,s.autoFocusInside=r,a<=x(this,T)&&requestAnimationFrame(this.triggerRender))});i(this,"isPresenting",(t,e)=>{if(this.isClosed())return!1;let n=this.indexForItem(t);return!(n<0||n>x(this,T)||e&&e.atIndex!==n)});i(this,"isOpen",()=>x(this,T)>-1);i(this,"isClosed",()=>!this.isOpen());i(this,"close",()=>{this.setStackIndex(-1)});i(this,"dismiss",t=>{let e=this.indexForItem(t);e!==-1&&x(this,T)>=e&&(this.willPop?.(),this.setStackIndex(e-1))});i(this,"goBack",(t=!1)=>{let e=this.stack[0];if(this.willPop?.(),this.setStackIndex(x(this,T)-1),t&&this.currentStackIndex===-1){let n=e?.triggerRef?.current;n instanceof HTMLElement&&n.focus()}});i(this,"indexForItem",t=>x(this,E).findIndex(e=>e.id===t));i(this,"setStackIndex",t=>{let e=Math.max(-1,t);x(this,T)!==e&&(x(this,E).forEach((n,r)=>{r<=t||n.dismissed||(n.dismissed=!0,n.onDismiss?.())}),Q(this,T,e),e<0&&Q(this,E,[]),this.triggerRender(),this.listeners.forEach(n=>n()))});i(this,"listeners",new Set);i(this,"registeredPopouts",{});i(this,"shouldPresentPopoutId",null);i(this,"shouldPresentPopoutIdTimer");i(this,"registerPopout",(t,e,n)=>{this.registeredPopouts[t]=n,this.shouldPresentPopoutId===t&&n()});i(this,"deregisterPopout",t=>{delete this.registeredPopouts[t];let e=this.indexForItem(t);e===-1||x(this,T)<e||this.setStackIndex(e-1)});i(this,"popoutIsRegistered",t=>t in this.registeredPopouts);i(this,"presentPopout",t=>{if(this.isPresenting(t,{atIndex:0}))return;let e=this.registeredPopouts[t];ee(e)?e():this.presentPopoutOnRegistration(t)});i(this,"presentPopoutOnRegistration",t=>{clearTimeout(this.shouldPresentPopoutIdTimer),this.shouldPresentPopoutId=t,this.shouldPresentPopoutIdTimer=setTimeout(()=>{this.shouldPresentPopoutId=null},100)});this.triggerRender=t,this.willOpen=e,this.willPush=n,this.willPop=r}get stack(){return x(this,E)}get currentStackIndex(){return x(this,T)}addListener(t){this.listeners.add(t)}removeListener(t){this.listeners.delete(t)}};E=new WeakMap,T=new WeakMap;var st="popover_pjkind9",at="contentClip_c1l0qpj8";var W=m(R()),Ft={x:10,y:0};function ut({navigationRef:o,anchorRef:t,children:e,attachTo:n="right",offset:r=Ft,onKeydown:a,onCopy:s,fallbackToModalAppearance:c}){let u=F.default.useRef(a);u.current=a;let p=Kt(),[,g]=F.default.useState(0),[d]=F.default.useState(()=>new V({triggerRender:()=>g(l=>l+1)})),f=d.isOpen(),w=F.default.useCallback(l=>{l.key==="Escape"&&(d.goBack(!0),l.stopPropagation()),u.current?.(l)},[d]);return F.default.useEffect(()=>{if(o)return ee(o)?(o(d),()=>{o(null)}):(o.current=d,()=>{o.current=null})},[d,o]),F.default.useEffect(()=>{if(!(!f||!s))return document.addEventListener("copy",s),document.addEventListener("cut",s),()=>{document.removeEventListener("copy",s),document.removeEventListener("cut",s)}},[f,s]),(0,W.jsxs)(se.Provider,{value:d,children:[e,f&&(0,W.jsx)(Ne,{children:(0,W.jsx)(rt,{children:(0,W.jsx)(Fe,{anchor:t.current,alignSelf:"center",attachTo:n,offset:r,onClose:d.close,className:st,themeOverrideMode:null,onKeyDown:w,focusTrapEnabled:!p,arrow:{anchor:t.current},fallbackToModalAppearance:c,children:(0,W.jsx)("div",{className:k(at),children:(0,W.jsx)(re,{stack:d.stack,currentIndex:d.currentStackIndex,onBack:d.goBack,onClose:d.close})})})})})]})}function Ht(){let o=oe(),t=o.stores.pluginStore.useState(n=>n.activePlugin?n.activePlugin.modeHandlers.mode!=="canvas":!1),e=o.stores.modalStore.useState(n=>xe(n.active.type));return t||e}function Vt(){return!1}var Kt=te?Vt:Ht;var S=m(R()),lt="data-is-popout-button",pt=`[${lt}]`;function At({popout:o,navigationTitle:t,navigationClassName:e,id:n,enabled:r=!0,displayDivider:a,onBeforePresent:s=()=>!0,onPresent:c=()=>{},onDismiss:u=()=>{},ref:p,educationTooltipId:g,educationText:d,onClickEducation:f,enterAnimationDisabled:w=!1,autoFocusInside:l}){let v=zt(n),I=C.default.useRef(null),y=p??I,M=C.default.useContext(Ke),h=C.default.useContext(se),[K,A]=C.default.useState(!1),ae=Se(),ue=Ve(),$=qe(),z=ct((0,S.jsx)(He.Provider,{value:ue,children:(0,S.jsx)(We.Provider,{value:ae,children:(0,S.jsx)(Je,{variantOverrideKeys:$.variantOverrideKeys,variantOverrideTraitTypes:$.variantOverrideTraitTypes,children:o})})})),Z=ct(t);h?.updatePopout(v,z,Z,l);let q=U(u),ce=U(c),_=U(()=>{if(h){if(!r||!s()){h.close();return}h.present(v,z,{parent:M,triggerRef:y,displayDivider:a,title:Z,className:e,onDismiss:q,onPresent:ce,educationTooltipId:g,educationText:d,onClickEducation:f,enterAnimationDisabled:w,autoFocusInside:l})}}),J=U(()=>{h?.dismiss(v)});return C.default.useEffect(()=>{if(!r||!h)return;let j=()=>{be.isTest||A(h.isPresenting(v))};return h.addListener(j),h.registerPopout(v,M,_),()=>{h.removeListener(j),h.deregisterPopout(v)}},[v,M,_,r,h]),{present:_,dismiss:J,isPresenting:K,ref:y}}function ct(o){let t=C.default.useRef(o);return ye(o,t.current)||(t.current=o),t.current}function on({popoverNavigationRef:o,displayInPopover:t,popoverAttachmentEdge:e,fallbackToModalAppearance:n,popoverOffset:r,onPopoverKeydown:a,onPopoverCopy:s,...c}){let u=C.default.useRef(null),p=(0,S.jsx)($t,{...c,ref:u});return t?(0,S.jsx)(ut,{navigationRef:o,anchorRef:u,attachTo:e,onKeydown:a,onCopy:s,offset:r,fallbackToModalAppearance:n,children:p}):p}var $t=C.default.forwardRef(function({id:t,large:e,popout:n,displayDivider:r,navigationTitle:a,navigationClassName:s,className:c,onKeyDown:u,onClick:p,tabIndex:g=0,enabled:d=!0,useFrescoButton:f=!1,withoutStyles:w=!1,frescoButtonProps:l={},onBeforePresent:v,onPresent:I,onDismiss:y,educationTooltipId:M,educationText:h,onClickEducation:K,autoFocusInside:A,togglePopoutEnabled:ae=!1,...ue},$){let{present:z,dismiss:Z,isPresenting:q}=At({popout:n,id:t,displayDivider:r,navigationTitle:a,navigationClassName:s,enabled:d,onBeforePresent:v,onPresent:I,onDismiss:y,ref:$,educationTooltipId:M,educationText:h,onClickEducation:K,autoFocusInside:A}),ce=de=>{switch(de.key){case"Enter":case" ":z(),de.preventDefault();break;case"Escape":de.currentTarget.blur(),Z();break}},_=Me(g),J=d===!1,j={role:"button",ref:$,tabIndex:J?void 0:_,"aria-selected":q?"true":"false",className:k(c,!f&&!w&&k(et,J&&tt,e&&ot)),onKeyDown:dt(ce,u),[lt]:!0,...ue},we=ae&&q?p:dt(z,p),Pt=Ce(we);return f?(0,S.jsx)(De,{enabled:d,...l,...j,onClick:we}):(0,S.jsx)("div",{id:t,...j,...Pt})});function ft(o){return o instanceof HTMLElement?!!o.closest(pt):!1}function nn(o){return o.querySelector(pt)}function rn(o){return document.getElementById(o)}function zt(o){let t=C.default.useRef(o);return o&&t.current!==o?t.current=o:t.current||(t.current=Ie()),t.current}function dt(o,t){return t?e=>{o(e),t(e)}:o}var mt="window_w1kmowpj";var B=m(D()),xt=m(R()),vt="resize-zone",ln=B.default.memo(({side:o,minSize:t,defaultSize:e,maxSize:n,getSize:r,setSize:a,onResizeStart:s,onResizeEnd:c})=>{let[u,p]=B.default.useState("ew-resize");B.default.useEffect(()=>{requestAnimationFrame(()=>{let l=typeof n=="function"?n():n,v=gt(r(),t,l,o);u!==v&&p(v)})},[]);let g=B.default.useRef(),d=B.default.useCallback(()=>{g.current=r(),s&&s()},[r,s]),f=B.default.useCallback(l=>{if(g.current===void 0)return;let v=o==="left"?-1:1,I=o==="top"?l.offset.y:l.offset.x,y=g.current+I*v;Math.abs(y-e)<10&&(y=e),a(y);let M=typeof n=="function"?n():n,h=gt(r(),t,M,o);u!==h&&p(h)},[e,t,n,o,a,r,u,p]),w=B.default.useCallback(()=>{g.current=void 0,c&&c()},[c]);return(0,xt.jsx)(ne,{onDragStart:d,onDrag:f,onDragEnd:w,cursor:u,className:vt,style:{cursor:u,position:"absolute",top:jt(o),bottom:0,right:Xt(o),left:Ut(o),width:o==="top"?void 0:6,height:o==="top"?6:void 0,zIndex:26,transform:"translate3d(0, 0, 0)",opacity:.5}})});function jt(o){switch(o){case"top":return-3;default:return 0}}function Ut(o){switch(o){case"left":return-3;case"top":return 0}}function Xt(o){switch(o){case"right":return-3;case"top":return 0}}function ht(o){return o instanceof HTMLDivElement&&o.classList.contains(vt)}function gt(o,t,e,n){if(n==="top")switch(o){case t:return"s-resize";case e:return"n-resize";default:return"ns-resize"}switch(o){case t:return n==="right"?"e-resize":"w-resize";case e:return n==="right"?"w-resize":"e-resize";default:return"ew-resize"}}var G=m(R()),Pe=class{constructor(){i(this,"navigation");i(this,"floatingWindowRef",Y.default.createRef());i(this,"initialWindowTopOffset","0px");i(this,"initialWindowLeftOffset","100%");i(this,"positionWindowNearElement",t=>{if(!(t instanceof HTMLElement))return;let e=this.floatingWindowRef.current,n=t.getBoundingClientRect(),r=n.top-9;e?e.setPosition({x:n.left,y:r},{snapToEdges:!1}):(this.initialWindowTopOffset=`${r}px`,this.initialWindowLeftOffset=n.left<window.innerWidth-n.right?"0%":"100%")});i(this,"persistCurrentTopOffset",()=>{let t=this.floatingWindowRef.current;t&&(t.hasPersistedTopOffset()||t.persistCurrentTopOffset())});i(this,"isOpen",()=>this.navigation.isOpen());i(this,"close",()=>{this.navigation.close()});i(this,"_rerender");i(this,"rerender",()=>this._rerender?.());i(this,"navigationBarWrapper",t=>(0,G.jsx)(Ze,{children:t}));i(this,"Component",Y.default.memo(({zIndex:t,visible:e,onPointerDownCapture:n})=>{let r=ke(),[,a]=Y.default.useState(0);this._rerender=()=>a(u=>u+1);let s=this.navigation.isOpen();return Y.default.useEffect(()=>{if(s)return document.addEventListener("click",this.closeIfClickedOutside),()=>{document.removeEventListener("click",this.closeIfClickedOutside)}},[s]),!s||!this.navigation.stack[this.navigation.currentStackIndex]?null:(0,G.jsx)(X,{ref:this.floatingWindowRef,zIndex:t,visible:e,onPointerDownCapture:n,initialTopOffset:this.initialWindowTopOffset,initialLeftOffset:this.initialWindowLeftOffset,children:(0,G.jsx)("div",{className:k(mt,this.navigation.stack[this.navigation.currentStackIndex]?.className),onKeyDown:this.onKeyDown,onMouseUp:u=>{Oe(r)&&r.stores.canvasMouseTarget.handleMouseUp(u)},tabIndex:0,children:(0,G.jsx)(re,{stack:this.navigation.stack,currentIndex:this.navigation.currentStackIndex,onBack:this.navigation.goBack,onClose:this.navigation.close,renderNavigationBarWrapper:this.navigationBarWrapper})})})}));i(this,"closeIfClickedOutside",({target:t})=>{ht(t)||ft(t)||Yt(t)&&this.navigation.close()});i(this,"onKeyDown",t=>{t.defaultPrevented||t.key==="Escape"&&(this.navigation.goBack(!0),t.stopPropagation())});this.navigation=new V({triggerRender:this.rerender,willOpen:this.positionWindowNearElement,willPush:this.persistCurrentTopOffset,willPop:this.persistCurrentTopOffset})}};function Yt(o){return o instanceof HTMLElement?!!o.closest("[data-is-right-panel]")||!!o.closest("[data-is-analytics]"):!1}var bn=new Pe;export{Zt as a,X as b,Ze as c,go as d,Je as e,et as f,se as g,Ro as h,rt as i,V as j,Ft as k,lt as l,At as m,on as n,nn as o,rn as p,ln as q,bn as r};
//# sourceMappingURL=https://app.framerstatic.com/chunk-SOF4EPEX.mjs.map
